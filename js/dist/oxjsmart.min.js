!function(e,t){"function"==typeof define&&define.amd?define("OxJSmart",["jsmart/dist/jsmart.min","sprintf-js/dist/sprintf.min","cestino/PriceFormatter"],t):"object"==typeof module&&module.exports?module.exports=t(require("jsmart"),require("sprintf-js"),require("cestino/src/PriceFormatter")):e.OxJSmart=t(e.jSmart,e,e.Cestino.PriceFormatter)}(this,function(e,r,o){"use strict";var n=[],i=[],u={};e.prototype.registerPlugin("block","oxhasrights",function(e,t){return t});e.prototype.registerPlugin("function","oxprice",function(e){var t,n={dec:",",thousand:".",sign:"",side:"",decimal:2};if("currency"in e&&"object"==typeof e.currency)for(t in e.currency)n[t]=e.currency[t];var r="price"in e?parseInt(e.price,10):0,i=o.create(n.dec,n.thousand,n.decimal);return"Front"===n.side?n.sign+i.format(r):i.format(r)+" "+n.sign});e.prototype.registerPlugin("function","oxscript",function(e){var t=e.priority||3;if("add"in e){if(!e.add)return"";-1===n.indexOf(e.add)&&n.push(e.add)}else if("include"in e){if(!e.include)return"";if(-1===i.indexOf(e.include)){i.push(e.include);u[t]=u[t]||[];u[t].push(e.include)}}return""});function t(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");t?r.src=e:r.text=e;n.appendChild(r)}function c(){n=[];i=[];u={}}e.prototype.registerPlugin("function","oxgetseourl",function(e){return e.ident||""});e.prototype.registerPlugin("modifier","oxformattime",function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return r.sprintf("%02d:%02d:%02d",t,n,e%60)});return{setLanguageKeys:function(n){this.prototype.registerPlugin("function","oxmultilang",function(e){var t="args"in e?e.args:"";return"ident"in e?Array.isArray(t)?r.vsprintf(n[e.ident],t):r.sprintf(n[e.ident],t):""})}.bind(e),applyScripts:function(){Object.keys(u).sort(function(e,t){return e.length>t.length||e.length==t.length&&t<e}).forEach(function(e){u[e].forEach(function(e){t(e,!0)})});n.length&&t("\n"+n.join("\n"));c()},clearScripts:c,registerPlugin:e.prototype.registerPlugin,create:function(e,t){var n,r=JSON.parse(JSON.stringify({ldelim:"[{",rdelim:"}]"}));if(t&&"object"==typeof t)for(n in t)r[n]=t[n];return new this(e,r)}.bind(e)}});"function"==typeof define&&define.amd&&define(["oxjsmart"],function(e){return e});